# Competitor Strategy UI Implementation Plan

## 1. Introduction
This document outlines the design and implementation plan for the `competitor-strategy/page.tsx` component. Its primary purpose is to display content strategy recommendations generated by the `competitor_analyzer.py` backend service. This plan details the UI structure, mock data fetching for development, and how the data will be presented, preparing it for delegation to a coding tool.

## 2. Component Overview
*   **File Path:** `localcontent_ai/web/app/competitor-strategy/page.tsx`
*   **Purpose:** To present actionable content strategy recommendations derived from competitor analysis in a user-friendly interface.
*   **Data Source (Target):** An API endpoint exposed by the `competitor_analyzer.py` service.
*   **Data Source (Development Mock):** Static JSON data mimicking the API response.

## 3. UI Structure (High-Level)
The page will have a clean, hierarchical structure:

1.  **Page Header:** "Content Strategy Recommendations"
2.  **Loading Indicator:** Displayed while data is being fetched.
3.  **Error Message Area:** To show any fetch errors.
4.  **No Data Message:** Displayed if no recommendations are found.
5.  **Main Content Area (`RecommendationsList` Component):** A container for individual recommendation cards.

## 4. Mock Data Structure (TypeScript Interface and Example)

To facilitate frontend development without a live backend, we will define a TypeScript interface and use mock data.

```typescript
// interfaces/CompetitorStrategy.ts
export interface Recommendation {
  id: string;
  competitorName: string;
  recommendedAction: 'Target Keyword' | 'Create Blog Post' | 'Improve Existing Content' | 'Expand Topic';
  description: string;
  priority: 'High' | 'Medium' | 'Low';
  keywords: string[];
  targetUrl?: string; // Optional URL for "Improve Existing Content" or "Expand Topic"
}

export interface CompetitorStrategyResponse {
  recommendations: Recommendation[];
}

// Mock Data Example
export const mockCompetitorStrategyData: CompetitorStrategyResponse = {
  recommendations: [
    {
      id: "rec-001",
      competitorName: "CompetitorX",
      recommendedAction: "Target Keyword",
      description: "CompetitorX ranks highly for 'AI content generation tools'. Focus on long-tail variations like 'best free AI content tools'.",
      priority: "High",
      keywords: ["AI content generation tools", "free AI writing tools", "AI content marketing"],
    },
    {
      id: "rec-002",
      competitorName: "CompetitorY",
      recommendedAction: "Create Blog Post",
      description: "CompetitorY has a popular blog post on 'SEO best practices for 2024'. Create an updated, comprehensive guide.",
      priority: "Medium",
      keywords: ["SEO best practices 2024", "on-page SEO", "technical SEO guide"],
      targetUrl: "https://competitory.com/blog/seo-best-practices-2024"
    },
    {
      id: "rec-003",
      competitorName: "CompetitorX",
      recommendedAction: "Improve Existing Content",
      description: "Our existing article on 'content repurposing strategies' is outdated. Update with new examples and statistics.",
      priority: "High",
      keywords: ["content repurposing", "content marketing strategies", "evergreen content"],
      targetUrl: "/blog/content-repurposing-strategies"
    },
    {
      id: "rec-004",
      competitorName: "CompetitorZ",
      recommendedAction: "Expand Topic",
      description: "CompetitorZ has in-depth guides on 'local SEO optimization'. Consider expanding our local SEO resources.",
      priority: "Medium",
      keywords: ["local SEO", "Google My Business", "local search ranking"],
    },
    {
      id: "rec-005",
      competitorName: "CompetitorY",
      recommendedAction: "Target Keyword",
      description: "CompetitorY is gaining traction for 'video marketing trends'. Incorporate relevant sections into future content.",
      priority: "Low",
      keywords: ["video marketing trends", "short-form video", "YouTube SEO"],
    },
  ],
};
```

## 5. Mock Data Fetching (Frontend Simulation)
The `page.tsx` will simulate fetching data using React Hooks:

*   **`useState`:** To manage `recommendations` (array of `Recommendation`), `isLoading` (boolean), and `error` (string or null).
*   **`useEffect`:** To trigger the data fetch once the component mounts.
    *   Inside `useEffect`, a `setTimeout` will simulate network latency (e.g., 500-1000ms).
    *   After the delay, `setRecommendations` will be called with `mockCompetitorStrategyData.recommendations`.
    *   Error handling will also be simulated by occasionally setting an `error` state.

```typescript
// Inside page.tsx
import React, { useState, useEffect } from 'react';
import { Recommendation, mockCompetitorStrategyData } from '@/interfaces/CompetitorStrategy'; // Adjust path as needed

const CompetitorStrategyPage: React.FC = () => {
  const [recommendations, setRecommendations] = useState<Recommendation[]>([]);
  const [isLoading, setIsLoading] = useState<boolean>(true);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const fetchRecommendations = async () => {
      setIsLoading(true);
      setError(null);
      try {
        // Simulate API call delay
        await new Promise(resolve => setTimeout(resolve, 800));

        // Simulate success or failure
        if (Math.random() > 0.1) { // 90% chance of success
          setRecommendations(mockCompetitorStrategyData.recommendations);
        } else { // 10% chance of failure
          throw new Error("Failed to fetch competitor strategy data.");
        }
      } catch (err: any) {
        setError(err.message || "An unknown error occurred.");
      } finally {
        setIsLoading(false);
      }
    };

    fetchRecommendations();
  }, []);

  // ... rest of the component
};

export default CompetitorStrategyPage;
```

## 6. Data Presentation (Detailed UI Design)

### Overall Layout
*   The page will use a responsive layout, likely leveraging a framework like Tailwind CSS for utility-first styling.
*   A main container will center the content and apply appropriate padding.

### Individual Recommendation Card (`RecommendationCard` Component)
Each recommendation will be presented as a distinct card or section, making it easy to digest.

*   **Structure:**
    *   **Competitor Name:** `<span>` or `<div>` with a distinct style (e.g., bold or a badge).
    *   **Recommended Action:** Prominently displayed (e.g., `<h2>` or `<h3>`).
    *   **Priority:** A badge or colored label (e.g., "High" in red, "Medium" in orange, "Low" in green).
    *   **Description:** A detailed paragraph explaining the recommendation.
    *   **Keywords/Topics:** A list of tags or badges.
    *   **Target URL (if present):** A clickable link to the relevant internal or external URL.

*   **Styling (Tailwind CSS suggestions):**
    *   **Container:** `bg-white shadow-lg rounded-lg p-6 mb-4`
    *   **Competitor Name:** `text-sm font-semibold text-gray-600`
    *   **Recommended Action:** `text-xl font-bold text-gray-800 my-2`
    *   **Priority Badge:**
        *   High: `bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full`
        *   Medium: `bg-orange-100 text-orange-800 ...`
        *   Low: `bg-green-100 text-green-800 ...`
    *   **Description:** `text-gray-700 mt-2`
    *   **Keywords:** `flex flex-wrap gap-2 mt-3`, individual keyword `bg-blue-100 text-blue-800 text-xs font-medium px-2 py-0.5 rounded`
    *   **Target URL:** `text-blue-600 hover:underline mt-4 block`

### Page States:

*   **Loading State:** A simple spinner or "Loading recommendations..." text centered on the page.
*   **Error State:** An alert banner or red text displaying the `error` message.
*   **No Data State:** If `recommendations` array is empty and `isLoading` is false, display "No competitor strategy recommendations found at this time."

### 7. Implementation Details for Coding Tool

The coding tool will be expected to:

1.  **Create `localcontent_ai/web/app/competitor-strategy/page.tsx`:** This will be the main entry point for the UI.
2.  **Create `localcontent_ai/web/app/competitor-strategy/RecommendationCard.tsx`:** A sub-component to render individual recommendation details.
3.  **Create `localcontent_ai/web/interfaces/CompetitorStrategy.ts`:** To define the TypeScript interfaces and mock data.
4.  **Implement `page.tsx`:**
    *   Use the `useState` and `useEffect` hooks as described in section 5 for mock data fetching.
    *   Render the page header.
    *   Conditionally render `LoadingIndicator`, `ErrorMessage`, `NoDataMessage`, or `RecommendationsList` based on the component's state.
    *   Map over the `recommendations` array to render `RecommendationCard` components.
5.  **Implement `RecommendationCard.tsx`:**
    *   Accept a `Recommendation` object as props.
    *   Render the individual fields (`competitorName`, `recommendedAction`, `priority`, `description`, `keywords`, `targetUrl`) with appropriate styling.
6.  **Styling:** Use Tailwind CSS classes for all styling as suggested.
7.  **Basic Accessibility:** Ensure interactive elements (like links) are accessible.

## 8. Next Steps
Once this plan is approved, the next step is for a coding tool to implement the `page.tsx`, `RecommendationCard.tsx`, and `CompetitorStrategy.ts` files according to these specifications.
